"use strict";(()=>{var e={};e.id=26,e.ids=[26,888,660],e.modules={4885:(e,t,s)=>{s.r(t),s.d(t,{config:()=>h,default:()=>u,getServerSideProps:()=>m,getStaticPaths:()=>p,getStaticProps:()=>b,reportWebVitals:()=>j,routeModule:()=>_,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>f});var a={};s.r(a),s.d(a,{default:()=>Dashboard});var r=s(7093),l=s(5244),o=s(1323),d=s(6764),n=s(9467),i=s(997),c=s(6689),x=s(8165),g=s(3120);let Dashboard_ClientDashboard=function({userId:e}){let[t,s]=(0,c.useState)([]),[a,r]=(0,c.useState)({totalServices:0,totalSpent:0,nextBooking:null}),[l,o]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let fetchBookings=async()=>{try{let t=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",a=await fetch(`${t}/api/clients/${e}/bookings`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},credentials:"include"});if(!a.ok)throw Error("Falha ao buscar agendamentos");let l=await a.json();r(l.stats),s(l.bookings),o(!1)}catch(e){console.error("âŒ Erro ao buscar agendamentos:",e),r({totalServices:0,totalSpent:0,nextBooking:null}),s([]),o(!1)}};e&&fetchBookings()},[e]);let getStatusBadge=e=>({scheduled:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800";return l?i.jsx("div",{className:"p-6 text-center",children:"Carregando..."}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"p-6 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("p",{className:"text-gray-600 font-semibold",children:"Total de Servi\xe7os"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:a.totalServices})]}),(0,i.jsxs)("div",{className:"p-6 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("p",{className:"text-gray-600 font-semibold",children:"Total Gasto"}),(0,i.jsxs)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:["R$ ",a.totalSpent.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"p-6 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsx("p",{className:"text-gray-600 font-semibold",children:"Pr\xf3ximo Agendamento"}),i.jsx("p",{className:"text-lg font-bold text-purple-600 mt-2",children:a.nextBooking?.toLocaleDateString("pt-BR")})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Agendamentos"}),i.jsx("div",{className:"space-y-4",children:t.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"font-bold",children:e.service}),i.jsx("p",{className:"text-sm text-gray-600",children:e.address}),i.jsx("p",{className:"text-sm text-gray-600",children:e.date.toLocaleDateString("pt-BR")})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("p",{className:"font-bold text-lg",children:["R$ ",e.price.toFixed(2)]}),i.jsx("span",{className:`text-sm font-semibold px-3 py-1 rounded ${getStatusBadge(e.status)}`,children:"scheduled"===e.status?"Agendado":"Conclu\xeddo"})]})]},e.id))})]})]})};function Dashboard(){return(0,i.jsxs)("div",{className:"flex flex-col min-h-screen",children:[i.jsx(x.Z,{}),(0,i.jsxs)("main",{className:"flex-grow max-w-7xl mx-auto w-full px-4 py-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Meu Dashboard"}),(0,i.jsxs)("div",{className:"flex gap-3",children:[i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Editar Perfil"}),i.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition",children:"Sair"})]})]}),(0,i.jsxs)("div",{className:"flex gap-4 mb-8 border-b",children:[i.jsx("button",{className:"px-4 py-2 border-b-2 border-blue-600 text-blue-600 font-semibold",children:"Agendamentos"}),i.jsx("button",{className:"px-4 py-2 text-gray-600 hover:text-blue-600",children:"Hist\xf3rico"}),i.jsx("button",{className:"px-4 py-2 text-gray-600 hover:text-blue-600",children:"Avalia\xe7\xf5es"}),i.jsx("button",{className:"px-4 py-2 text-gray-600 hover:text-blue-600",children:"Pagamentos"})]}),i.jsx(Dashboard_ClientDashboard,{userId:"123"})]}),i.jsx(g.Z,{})]})}let u=(0,o.l)(a,"default"),b=(0,o.l)(a,"getStaticProps"),p=(0,o.l)(a,"getStaticPaths"),m=(0,o.l)(a,"getServerSideProps"),h=(0,o.l)(a,"config"),j=(0,o.l)(a,"reportWebVitals"),f=(0,o.l)(a,"unstable_getStaticProps"),v=(0,o.l)(a,"unstable_getStaticPaths"),S=(0,o.l)(a,"unstable_getStaticParams"),N=(0,o.l)(a,"unstable_getServerProps"),y=(0,o.l)(a,"unstable_getServerSideProps"),_=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:n.default,Document:d.default},userland:a})},5427:e=>{e.exports=require("@sentry/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},1017:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[859,656,664,467,764,708],()=>__webpack_exec__(4885));module.exports=s})();